<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - 6 –∫–ª–∞—Å—Å | –£—Ä–∞–≤–Ω–µ–Ω–∏—è</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%); min-height: 100vh; padding: 20px; }
    .back-btn { position: absolute; top: 20px; left: 20px; background: rgba(255,255,255,0.2); color: white; border: none; padding: 10px 20px; border-radius: 25px; cursor: pointer; text-decoration: none; font-weight: bold; transition: all 0.3s ease; }
    .back-btn:hover { background: rgba(255,255,255,0.3); transform: translateX(-3px); }
    .container { max-width: 1000px; margin: 0 auto; }
    .header { text-align: center; margin-bottom: 30px; }
    h1 { color: white; font-size: 2.4em; margin-bottom: 8px; text-shadow: 2px 2px 4px rgba(0,0,0,0.25); }
    .subtitle { color: rgba(255,255,255,0.95); font-size: 1.15em; }

    .card { background: rgba(255,255,255,0.95); border-radius: 16px; padding: 24px; box-shadow: 0 10px 25px rgba(0,0,0,0.12); margin-top: 20px; }
    .card h2 { color: #ff6b6b; margin-bottom: 12px; }
    .card p { color: #444; line-height: 1.6; }

    .eq-anim { margin-top: 20px; background: #fff; border-radius: 16px; padding: 24px; box-shadow: 0 10px 25px rgba(0,0,0,0.12); }
    .eq-title { color: #333; font-weight: 700; margin-bottom: 12px; }

    .stage { display: flex; align-items: center; justify-content: center; min-height: 72px; border: 2px dashed rgba(0,0,0,0.08); border-radius: 12px; margin-bottom: 16px; position: relative; overflow: hidden; background: linear-gradient(90deg, rgba(254,202,87,0.15), rgba(255,255,255,0)); }
    .equation { font-size: 34px; font-weight: 700; color: #222; letter-spacing: 0.5px; }
    .muted { color: #888; font-weight: 600; }
    .term { display: inline-block; position: relative; padding: 0 6px; border-radius: 8px; }
    .term.move { background: rgba(255,107,107,0.18); }

    .frac { display: inline-flex; flex-direction: column; align-items: center; font-weight: 700; }
    .frac .num { border-bottom: 2px solid #333; width: 100%; text-align: center; padding: 0 4px; }
    .frac .den { text-align: center; padding: 0 4px; }

    .hint { text-align: center; color: #555; font-size: 14px; margin-top: 8px; }

    .controls { display: flex; gap: 10px; justify-content: center; margin-top: 14px; }
    .btn { background: #222; color: #fff; border: none; padding: 10px 16px; border-radius: 10px; font-weight: 700; cursor: pointer; transition: transform .15s ease, opacity .2s ease; }
    .btn:hover { transform: translateY(-2px); }
    .btn.alt { background: #11998e; }

    .steps { margin-top: 14px; display: grid; gap: 8px; }
    .step { background: rgba(255,255,255,0.9); border-left: 6px solid #ff6b6b; padding: 10px 12px; border-radius: 10px; color: #333; font-weight: 600; box-shadow: 0 4px 10px rgba(0,0,0,0.06); }

    .note { margin-top: 18px; background: rgba(17,153,142,0.08); border-left: 6px solid #11998e; padding: 12px 14px; border-radius: 10px; color: #0d695f; }

    /* –¢—Ä–µ–Ω–∞–∂—ë—Ä */
    .trainer { margin-top: 22px; background: #fff; border-radius: 16px; padding: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.12); }
    .trainer h2 { color: #333; margin-bottom: 10px; }
    .tasks { display: grid; gap: 10px; }
    .task { display: grid; grid-template-columns: 1fr 120px; gap: 10px; align-items: center; background: rgba(0,0,0,0.02); padding: 10px; border-radius: 10px; }
    .task .expr { font-weight: 700; color: #222; }
    .task input { padding: 10px 12px; border: 2px solid rgba(0,0,0,0.1); border-radius: 8px; font-size: 16px; }
    .task input.ok { border-color: #2ecc71; background: rgba(46,204,113,0.08); }
    .task input.err { border-color: #e74c3c; background: rgba(231,76,60,0.08); }
    .trainer .controls { display: flex; gap: 10px; margin-top: 12px; }
    .score { margin-top: 8px; color: #333; font-weight: 700; }

    /* –í–µ—Ä—Å—Ç–∫–∞ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —Å–∫–æ–±–æ–∫ */
    #trainerDist .task { grid-template-columns: 1fr 200px; }
    #trainerDist .task .inputs { display: flex; gap: 8px; justify-content: flex-end; }
    #trainerDist .task input { width: 80px; }

    @media (max-width: 700px) {
      #trainerDist .task { grid-template-columns: 1fr; }
      #trainerDist .task .inputs { justify-content: flex-start; }
    }

    @media (max-width: 600px) { .equation { font-size: 26px; } }
  </style>
</head>
<body>
  <a href="mathematics.html" class="back-btn">‚Üê –ù–∞–∑–∞–¥</a>

  <div class="container">
    <div class="header">
      <h1>üìê –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ ‚Äî 6 –∫–ª–∞—Å—Å</h1>
    </div>

    <div class="card">
      <h2>–¢–µ–º–∞: –£—Ä–∞–≤–Ω–µ–Ω–∏—è</h2>
      <button class="btn alt" id="toggle-eq">–ü–æ–∫–∞–∑–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é</button>
    </div>

    <div id="eq-section" style="display:none;">
      <div class="eq-anim" id="anim1">
        <div class="eq-title">–ü—Ä–∏–º–µ—Ä 1: 3x + 5 = 17</div>
        <div class="stage">
          <div class="equation" id="eq1"></div>
        </div>
        <div class="hint" id="hint1"></div>
        <div class="controls">
          <button class="btn" id="prev1">–ù–∞–∑–∞–¥</button>
          <button class="btn alt" id="next1">–î–∞–ª–µ–µ</button>
          <button class="btn" id="reset1">–°–±—Ä–æ—Å</button>
        </div>
        <div class="steps" id="steps1"></div>
      </div>

          <div class="eq-anim" id="anim2">
      <div class="eq-title">–ü—Ä–∏–º–µ—Ä 2: 2x ‚àí 7 = 9</div>
      <div class="stage">
        <div class="equation" id="eq2"></div>
      </div>
      <div class="hint" id="hint2"></div>
      <div class="controls">
        <button class="btn" id="prev2">–ù–∞–∑–∞–¥</button>
        <button class="btn alt" id="next2">–î–∞–ª–µ–µ</button>
        <button class="btn" id="reset2">–°–±—Ä–æ—Å</button>
      </div>
      <div class="steps" id="steps2"></div>
    </div>

    <div class="eq-anim" id="anim3">
      <div class="eq-title">–ü—Ä–∏–º–µ—Ä 3: 5x + 4 = 2x + 22</div>
      <div class="stage">
        <div class="equation" id="eq3"></div>
      </div>
      <div class="hint" id="hint3"></div>
      <div class="controls">
        <button class="btn" id="prev3">–ù–∞–∑–∞–¥</button>
        <button class="btn alt" id="next3">–î–∞–ª–µ–µ</button>
        <button class="btn" id="reset3">–°–±—Ä–æ—Å</button>
      </div>
      <div class="steps" id="steps3"></div>
    </div>
    <div class="note">
      –°–æ–≤–µ—Ç: –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –æ–±–µ–∏–º–∏ —á–∞—Å—Ç—è–º–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏—è. –≠—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–æ—Å—Ç–∏—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ.
    </div>
    <div class="trainer" id="trainer">
      <h2>–¢—Ä–µ–Ω–∞–∂—ë—Ä: —Ä–µ—à–∏—Ç–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è</h2>
      <div class="tasks" id="tasks"></div>
      <div class="controls">
        <button class="btn alt" id="checkBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <button class="btn" id="newBtn">–ù–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è</button>
      </div>
      <div class="score" id="score"></div>
    </div>
    </div>

    <div class="card" style="margin-top:16px;">
      <h2>–¢–µ–º–∞: –£–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–∫–æ–±–∫—É</h2>
      <button class="btn alt" id="toggle-dist">–ü–æ–∫–∞–∑–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é</button>
    </div>

    <div id="dist-section" style="display:none;">
      <div class="eq-anim" id="animd1">
        <div class="eq-title">–ü—Ä–∏–º–µ—Ä 1: 3(x + 4)</div>
        <div class="stage">
          <div class="equation" id="eqd1"></div>
        </div>
        <div class="hint" id="hintd1"></div>
        <div class="controls">
          <button class="btn" id="prevd1">–ù–∞–∑–∞–¥</button>
          <button class="btn alt" id="nextd1">–î–∞–ª–µ–µ</button>
          <button class="btn" id="resetd1">–°–±—Ä–æ—Å</button>
        </div>
        <div class="steps" id="stepsd1"></div>
      </div>

      <div class="eq-anim" id="animd2">
        <div class="eq-title">–ü—Ä–∏–º–µ—Ä 2: 2(3x ‚àí 5)</div>
        <div class="stage">
          <div class="equation" id="eqd2"></div>
        </div>
        <div class="hint" id="hintd2"></div>
        <div class="controls">
          <button class="btn" id="prevd2">–ù–∞–∑–∞–¥</button>
          <button class="btn alt" id="nextd2">–î–∞–ª–µ–µ</button>
          <button class="btn" id="resetd2">–°–±—Ä–æ—Å</button>
        </div>
        <div class="steps" id="stepsd2"></div>
      </div>

      <div class="eq-anim" id="animd3">
        <div class="eq-title">–ü—Ä–∏–º–µ—Ä 3: ‚àí4(x ‚àí 2)</div>
        <div class="stage">
          <div class="equation" id="eqd3"></div>
        </div>
        <div class="hint" id="hintd3"></div>
        <div class="controls">
          <button class="btn" id="prevd3">–ù–∞–∑–∞–¥</button>
          <button class="btn alt" id="nextd3">–î–∞–ª–µ–µ</button>
          <button class="btn" id="resetd3">–°–±—Ä–æ—Å</button>
        </div>
        <div class="steps" id="stepsd3"></div>
      </div>

      <div class="eq-anim" id="animd4">
        <div class="eq-title">–ü—Ä–∏–º–µ—Ä 4: ‚àí3(x + 5)</div>
        <div class="stage">
          <div class="equation" id="eqd4"></div>
        </div>
        <div class="hint" id="hintd4"></div>
        <div class="controls">
          <button class="btn" id="prevd4">–ù–∞–∑–∞–¥</button>
          <button class="btn alt" id="nextd4">–î–∞–ª–µ–µ</button>
          <button class="btn" id="resetd4">–°–±—Ä–æ—Å</button>
        </div>
        <div class="steps" id="stepsd4"></div>
      </div>

      <div class="trainer" id="trainerDist" style="margin-top:16px;">
        <h2>–¢—Ä–µ–Ω–∞–∂—ë—Ä: —Ä–∞—Å–∫—Ä–æ–π—Ç–µ —Å–∫–æ–±–∫–∏ a(bx ¬± c) ‚Üí Ax ¬± B</h2>
        <div class="tasks" id="tasksDist"></div>
        <div class="controls">
          <button class="btn alt" id="checkDistBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
          <button class="btn" id="newDistBtn">–ù–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è</button>
        </div>
        <div class="score" id="scoreDist"></div>
      </div>
    </div>


  </div>

  <script>
    function createAnimator({eqEl, hintEl, stepsEl, prevBtn, nextBtn, resetBtn, frames}) {
      let index = 0;
      const render = () => {
        const f = frames[index];
        eqEl.innerHTML = f.html;
        hintEl.textContent = f.hint || '';
        stepsEl.innerHTML = frames
          .slice(0, index + 1)
          .map((s, i) => `<div class=\"step\">${i + 1}. ${s.step}</div>`) 
          .join('');
      };
      const go = (d) => { index = Math.max(0, Math.min(frames.length - 1, index + d)); render(); };
      prevBtn.addEventListener('click', () => go(-1));
      nextBtn.addEventListener('click', () => go(1));
      resetBtn.addEventListener('click', () => { index = 0; render(); });
      render();
    }

    const toggleBtn = document.getElementById('toggle-eq');
    const eqSection = document.getElementById('eq-section');
    toggleBtn.addEventListener('click', () => {
      const isHidden = eqSection.style.display === 'none';
      eqSection.style.display = isHidden ? 'block' : 'none';
      toggleBtn.textContent = isHidden ? '–°–∫—Ä—ã—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é' : '–ü–æ–∫–∞–∑–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é';
    });

    const toggleDist = document.getElementById('toggle-dist');
    const distSection = document.getElementById('dist-section');
    toggleDist.addEventListener('click', () => {
      const isHidden = distSection.style.display === 'none';
      distSection.style.display = isHidden ? 'block' : 'none';
      toggleDist.textContent = isHidden ? '–°–∫—Ä—ã—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é' : '–ü–æ–∫–∞–∑–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é';
    });

    // –ê–Ω–∏–º–∞—Ü–∏—è 1: 3x + 5 = 17 ‚Üí 3x = 17 ‚àí 5 ‚Üí 3x = 12 ‚Üí x = 4
    createAnimator({
      eqEl: document.getElementById('eq1'),
      hintEl: document.getElementById('hint1'),
      stepsEl: document.getElementById('steps1'),
      prevBtn: document.getElementById('prev1'),
      nextBtn: document.getElementById('next1'),
      resetBtn: document.getElementById('reset1'),
      frames: [
        { html: `3x + <span class=\"term move\">5</span> = 17`, step: '–ò—Å—Ö–æ–¥–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ', hint: '–ù—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ 5 –≤ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å —Å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–º –∑–Ω–∞–∫–æ–º' },
        { html: `3x = 17 ‚àí <span class=\"term\">5</span>`, step: '–ü–µ—Ä–µ–Ω–æ—Å–∏–º 5 –≤–ø—Ä–∞–≤–æ', hint: '–ó–Ω–∞–∫ ¬´+5¬ª —Å—Ç–∞–ª ¬´‚àí5¬ª' },
        { html: `3x = 12`, step: '–í—ã—á–∏—Å–ª—è–µ–º 17 ‚àí 5', hint: '–£–ø—Ä–æ—Å—Ç–∏–ª–∏ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å' },
        { html: `<span class=\"term\">3x</span> = 12 ‚Üí <span class=\"frac\"><span class=\"num\">3x</span><span class=\"den\">3</span></span> = <span class=\"frac\"><span class=\"num\">12</span><span class=\"den\">3</span></span>`, step: '–î–µ–ª–∏–º –æ–±–µ —á–∞—Å—Ç–∏ –Ω–∞ 3', hint: '–ß—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 3 –ø—Ä–∏ x, –¥–µ–ª–∏–º –∏ –ª–µ–≤—É—é, –∏ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å –Ω–∞ 3' },
        { html: `<span class=\"term\">x</span> = 4`, step: '–°–æ–∫—Ä–∞—â–∞–µ–º –¥—Ä–æ–±–∏', hint: '–ü–æ–ª—É—á–∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π' },
      ]
    });

    // –ê–Ω–∏–º–∞—Ü–∏—è 2: 2x ‚àí 7 = 9 ‚Üí 2x = 9 + 7 ‚Üí 2x = 16 ‚Üí x = 8
    createAnimator({
      eqEl: document.getElementById('eq2'),
      hintEl: document.getElementById('hint2'),
      stepsEl: document.getElementById('steps2'),
      prevBtn: document.getElementById('prev2'),
      nextBtn: document.getElementById('next2'),
      resetBtn: document.getElementById('reset2'),
      frames: [
        { html: `2x ‚àí <span class=\"term move\">7</span> = 9`, step: '–ò—Å—Ö–æ–¥–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ', hint: '–ü–µ—Ä–µ–Ω–æ—Å–∏–º ‚àí7 –≤–ø—Ä–∞–≤–æ: —Å—Ç–∞–Ω–µ—Ç +7' },
        { html: `2x = 9 + <span class=\"term\">7</span>`, step: '–ü–µ—Ä–µ–Ω–æ—Å–∏–º ‚àí7 –≤–ø—Ä–∞–≤–æ', hint: '–ó–Ω–∞–∫ ¬´‚àí7¬ª —Å—Ç–∞–ª ¬´+7¬ª' },
        { html: `2x = 16`, step: '–°–∫–ª–∞–¥—ã–≤–∞–µ–º 9 –∏ 7', hint: '–£–ø—Ä–æ—Å—Ç–∏–ª–∏ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å' },
        { html: `<span class=\"term\">x</span> = 8`, step: '–î–µ–ª–∏–º –æ–±–µ —á–∞—Å—Ç–∏ –Ω–∞ 2', hint: '–ù–∞—à–ª–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—É—é' },
      ]
    });
    // –ê–Ω–∏–º–∞—Ü–∏—è 3: 5x + 4 = 2x + 22 ‚Üí 3x + 4 = 22 ‚Üí 3x = 22 ‚àí 4 ‚Üí 3x = 18 ‚Üí (–¥–µ–ª–∏–º –æ–±–µ —á–∞—Å—Ç–∏ –Ω–∞ 3) ‚Üí x = 6
    createAnimator({
      eqEl: document.getElementById('eq3'),
      hintEl: document.getElementById('hint3'),
      stepsEl: document.getElementById('steps3'),
      prevBtn: document.getElementById('prev3'),
      nextBtn: document.getElementById('next3'),
      resetBtn: document.getElementById('reset3'),
      frames: [
        { html: `5x + 4 = 2x + 22`, step: '–ò—Å—Ö–æ–¥–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ', hint: '–°–æ–±–µ—Ä–µ–º x —Å–ª–µ–≤–∞, —á–∏—Å–ª–∞ —Å–ø—Ä–∞–≤–∞' },
        { html: `5x ‚àí 2x + 4 = 22`, step: '–ü–µ—Ä–µ–Ω–æ—Å–∏–º 2x –≤–ª–µ–≤–æ', hint: '–ú–µ–Ω—è–µ–º –∑–Ω–∞–∫ –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ' },
        { html: `3x + 4 = 22`, step: '–£–ø—Ä–æ—â–∞–µ–º –ª–µ–≤—É—é —á–∞—Å—Ç—å', hint: '5x ‚àí 2x = 3x' },
        { html: `3x = 22 ‚àí 4`, step: '–ü–µ—Ä–µ–Ω–æ—Å–∏–º +4 –≤–ø—Ä–∞–≤–æ', hint: '–ú–µ–Ω—è–µ–º –∑–Ω–∞–∫ –Ω–∞ ¬´‚àí4¬ª' },
        { html: `3x = 18`, step: '–í—ã—á–∏—Å–ª—è–µ–º 22 ‚àí 4', hint: '–£–ø—Ä–æ—Å—Ç–∏–ª–∏ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å' },
        { html: `<span class=\"term\">3x</span> = 18 ‚Üí <span class=\"frac\"><span class=\"num\">3x</span><span class=\"den\">3</span></span> = <span class=\"frac\"><span class=\"num\">18</span><span class=\"den\">3</span></span>`, step: '–î–µ–ª–∏–º –æ–±–µ —á–∞—Å—Ç–∏ –Ω–∞ 3', hint: '–£–±–∏—Ä–∞–µ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 3 –ø—Ä–∏ x' },
        { html: `<span class=\"term\">x</span> = 6`, step: '–°–æ–∫—Ä–∞—â–∞–µ–º –¥—Ä–æ–±–∏', hint: '–û—Ç–≤–µ—Ç –Ω–∞–π–¥–µ–Ω' },
      ]
    });
    // –¢—Ä–µ–Ω–∞–∂—ë—Ä
    function gcd(a,b){ return b ? gcd(b, a%b) : Math.abs(a); }
    function generateTask(){
      // a*x + b = c  ‚Üí x = (c - b)/a  (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º —Ü–µ–ª—ã–π –æ—Ç–≤–µ—Ç)
      const a = [2,3,4,5,6][Math.floor(Math.random()*5)];
      const x = Math.floor(Math.random()*11) - 5; // -5..5
      const b = Math.floor(Math.random()*21) - 10; // -10..10
      const c = a * x + b;
      return { a, b, c, x, toString: () => `${a}x ${b>=0?'+':'‚àí'} ${Math.abs(b)} = ${c}` };
    }
    function renderTasks(n=5){
      const tasksEl = document.getElementById('tasks');
      const tasks = Array.from({length:n}, generateTask);
      tasksEl.innerHTML = tasks.map((t,i)=>
        `<div class=\"task\">`+
          `<div class=\"expr\">${t.toString()}</div>`+
          `<input type=\"number\" step=\"1\" inputmode=\"numeric\" id=\"ans_${i}\" data-x=\"${t.x}\">`+
        `</div>`
      ).join('');
      document.getElementById('score').textContent = '';
      return tasks;
    }

    let currentTasks = renderTasks();
    document.getElementById('newBtn').addEventListener('click', ()=>{ currentTasks = renderTasks(); });
    document.getElementById('checkBtn').addEventListener('click', ()=>{
      let ok = 0;
      currentTasks.forEach((t,i)=>{
        const input = document.getElementById(`ans_${i}`);
        const val = Number(input.value);
        input.classList.remove('ok','err');
        if (val === t.x){ ok++; input.classList.add('ok'); }
        else { input.classList.add('err'); }
      });
      document.getElementById('score').textContent = `–í–µ—Ä–Ω–æ: ${ok} –∏–∑ ${currentTasks.length}`;
    });
    // –†–∞—Å–∫—Ä—ã—Ç–∏–µ —Å–∫–æ–±–æ–∫ (–¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–Ω–æ—Å—Ç—å)
    createAnimator({
      eqEl: document.getElementById('eqd1'),
      hintEl: document.getElementById('hintd1'),
      stepsEl: document.getElementById('stepsd1'),
      prevBtn: document.getElementById('prevd1'),
      nextBtn: document.getElementById('nextd1'),
      resetBtn: document.getElementById('resetd1'),
      frames: [
        { html: `3( <span class=\"term\">x</span> + <span class=\"term\">4</span> )`, step: '–ò—Å—Ö–æ–¥–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ', hint: '–î–æ–º–Ω–æ–∂–∞–µ–º –∫–∞–∂–¥—ã–π —á–ª–µ–Ω –≤ —Å–∫–æ–±–∫–∞—Ö –Ω–∞ 3' },
        { html: `<span class=\"term move\">3</span>¬∑x + <span class=\"term move\">3</span>¬∑4`, step: '–£–º–Ω–æ–∂–∞–µ–º 3 –Ω–∞ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç', hint: '3 —É–º–Ω–æ–∂–∞–µ–º –Ω–∞ x –∏ –Ω–∞ 4' },
        { html: `3x + 12`, step: '–£–ø—Ä–æ—â–∞–µ–º –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è', hint: '3¬∑x = 3x, 3¬∑4 = 12' },
      ]
    });

    createAnimator({
      eqEl: document.getElementById('eqd2'),
      hintEl: document.getElementById('hintd2'),
      stepsEl: document.getElementById('stepsd2'),
      prevBtn: document.getElementById('prevd2'),
      nextBtn: document.getElementById('nextd2'),
      resetBtn: document.getElementById('resetd2'),
      frames: [
        { html: `2( <span class=\"term\">3x</span> ‚àí <span class=\"term\">5</span> )`, step: '–ò—Å—Ö–æ–¥–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ', hint: '–î–æ–º–Ω–æ–∂–∞–µ–º –∫–∞–∂–¥—ã–π —á–ª–µ–Ω –≤ —Å–∫–æ–±–∫–∞—Ö –Ω–∞ 2' },
        { html: `<span class=\"term move\">2</span>¬∑3x ‚àí <span class=\"term move\">2</span>¬∑5`, step: '–£–º–Ω–æ–∂–∞–µ–º 2 –Ω–∞ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç', hint: '–°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞–∫ –º–∏–Ω—É—Å' },
        { html: `6x ‚àí 10`, step: '–£–ø—Ä–æ—â–∞–µ–º –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è', hint: '2¬∑3x = 6x, 2¬∑5 = 10' },
      ]
    });
    // –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî –ø—Ä–∏–º–µ—Ä—ã 3 –∏ 4
    createAnimator({
      eqEl: document.getElementById('eqd3'),
      hintEl: document.getElementById('hintd3'),
      stepsEl: document.getElementById('stepsd3'),
      prevBtn: document.getElementById('prevd3'),
      nextBtn: document.getElementById('nextd3'),
      resetBtn: document.getElementById('resetd3'),
      frames: [
        { html: `‚àí4( <span class=\"term\">x</span> ‚àí <span class=\"term\">2</span> )`, step: '–ò—Å—Ö–æ–¥–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ', hint: '–î–æ–º–Ω–æ–∂–∞–µ–º –∫–∞–∂–¥—ã–π —á–ª–µ–Ω –Ω–∞ ‚àí4' },
        { html: `<span class=\"term move\">‚àí4</span>¬∑x ‚àí <span class=\"term move\">‚àí4</span>¬∑2`, step: '–£—á–∏—Ç—ã–≤–∞–µ–º —Å–º–µ–Ω—É –∑–Ω–∞–∫–∞ –ø—Ä–∏ —É–º–Ω–æ–∂–µ–Ω–∏–∏ –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ', hint: '‚àí4¬∑(‚àí2) = +8' },
        { html: `‚àí4x + 8`, step: '–£–ø—Ä–æ—â–∞–µ–º', hint: '‚àí4¬∑x = ‚àí4x, ‚àí4¬∑(‚àí2) = +8' },
      ]
    });

    createAnimator({
      eqEl: document.getElementById('eqd4'),
      hintEl: document.getElementById('hintd4'),
      stepsEl: document.getElementById('stepsd4'),
      prevBtn: document.getElementById('prevd4'),
      nextBtn: document.getElementById('nextd4'),
      resetBtn: document.getElementById('resetd4'),
      frames: [
        { html: `‚àí3( <span class=\"term\">x</span> + <span class=\"term\">5</span> )`, step: '–ò—Å—Ö–æ–¥–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ', hint: '–î–æ–º–Ω–æ–∂–∞–µ–º –∫–∞–∂–¥—ã–π —á–ª–µ–Ω –Ω–∞ ‚àí3' },
        { html: `<span class=\"term move\">‚àí3</span>¬∑x + <span class=\"term move\">‚àí3</span>¬∑5`, step: '–°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞–∫–∏', hint: '‚àí3¬∑(+5) = ‚àí15' },
        { html: `‚àí3x ‚àí 15`, step: '–£–ø—Ä–æ—â–∞–µ–º', hint: '‚àí3¬∑x = ‚àí3x, ‚àí3¬∑5 = ‚àí15' },
      ]
    });

    // –¢—Ä–µ–Ω–∞–∂—ë—Ä –ø–æ —Ä–∞—Å–∫—Ä—ã—Ç–∏—é —Å–∫–æ–±–æ–∫
    function generateDist(){
      // a(bx ¬± c) ‚Üí Ax ¬± B
      const a = [-4,-3,-2,2,3,4][Math.floor(Math.random()*6)];
      const b = [1,2,3,4,5][Math.floor(Math.random()*5)];
      const cMag = Math.floor(Math.random()*9) + 1; // 1..9 –≤—Å–µ–≥–¥–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ
      const sign = Math.random()<0.5 ? '+' : '‚àí';
      const expr = `${a}(${b}x ${sign} ${cMag})`;
      const A = a*b;
      const C = sign==='+' ? cMag : -cMag;
      const B = a*C;
      return {expr, A, B};
    }
    function renderDist(n=5){
      const tasksEl = document.getElementById('tasksDist');
      const tasks = Array.from({length:n}, generateDist);
      tasksEl.innerHTML = tasks.map((t,i)=>
        `<div class=\"task\">`+
                     `<div class=\"expr\">${t.expr} ‚Üí <strong>Ax + B</strong></div>`+
           `<div class=\"inputs\">`+
             `<input type=\"number\" placeholder=\"A\" id=\"Ad_${i}\">`+
             `<input type=\"number\" placeholder=\"B\" id=\"Bd_${i}\">`+
           `</div>`+
        `</div>`
      ).join('');
      document.getElementById('scoreDist').textContent = '';
      return tasks;
    }
    let distTasks = renderDist();
    document.getElementById('newDistBtn').addEventListener('click', ()=>{ distTasks = renderDist(); });
    document.getElementById('checkDistBtn').addEventListener('click', ()=>{
      let ok=0;
      distTasks.forEach((t,i)=>{
        const aEl = document.getElementById(`Ad_${i}`);
        const bEl = document.getElementById(`Bd_${i}`);
        const A = Number(aEl.value);
        const B = Number(bEl.value);
        aEl.classList.remove('ok','err');
        bEl.classList.remove('ok','err');
        const correctA = distTasks[i].A;
        const correctB = distTasks[i].B;
        const aOk = A === correctA;
        const bOk = B === correctB;
        if (aOk) aEl.classList.add('ok'); else aEl.classList.add('err');
        if (bOk) bEl.classList.add('ok'); else bEl.classList.add('err');
        if (aOk && bOk) ok++;
      });
      document.getElementById('scoreDist').textContent = `–í–µ—Ä–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é: ${ok} –∏–∑ ${distTasks.length}`;
    });
  </script>
</body>
</html> 